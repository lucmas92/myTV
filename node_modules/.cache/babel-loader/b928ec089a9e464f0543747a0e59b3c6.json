{"remainingRequest":"/Users/lucmas/WebstormProjects/myTV/node_modules/babel-loader/lib/index.js!/Users/lucmas/WebstormProjects/myTV/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/lucmas/WebstormProjects/myTV/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lucmas/WebstormProjects/myTV/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lucmas/WebstormProjects/myTV/src/components/Home.vue","mtime":1641759266946},{"path":"/Users/lucmas/WebstormProjects/myTV/babel.config.js","mtime":1641338613683},{"path":"/Users/lucmas/WebstormProjects/myTV/node_modules/cache-loader/dist/cjs.js","mtime":1641338268303},{"path":"/Users/lucmas/WebstormProjects/myTV/node_modules/babel-loader/lib/index.js","mtime":1641338267663},{"path":"/Users/lucmas/WebstormProjects/myTV/node_modules/cache-loader/dist/cjs.js","mtime":1641338268303},{"path":"/Users/lucmas/WebstormProjects/myTV/node_modules/vue-loader/lib/index.js","mtime":1641338268014}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL1BhZ2luYXRpb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudHM6IHsKICAgIFBhZ2luYXRpb246IFBhZ2luYXRpb24KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYW5hbGk6IFtdLAogICAgICBzdGFzZXJhOiBbXSwKICAgICAgY3VycmVudF9kYXRlOiBudWxsLAogICAgICB0b3RhbF9lbGVtZW50czogMSwKICAgICAgcGFnZTogbnVsbAogICAgfTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLnBhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VycmVudF9wYWdlJyk7CgogICAgaWYgKHRoaXMucGFnZSA9PSBudWxsKSB7CiAgICAgIHRoaXMucGFnZSA9IDE7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgY3VycmVudCA9IG5ldyBEYXRlKCk7CiAgICAgIHRoaXMuY3VycmVudF9kYXRlID0gIiIuY29uY2F0KGN1cnJlbnQuZ2V0RGF0ZSgpLCAiLSIpLmNvbmNhdChjdXJyZW50LmdldE1vbnRoKCkgKyAxLCAiLSIpLmNvbmNhdChjdXJyZW50LmdldEZ1bGxZZWFyKCkpOwogICAgICB2YXIga2V5ID0gJ2NhbmFsaV8nICsgdGhpcy5jdXJyZW50X2RhdGU7CiAgICAgIHZhciBrZXkyID0gJ3ByaW1hX3NlcmF0YV8nICsgdGhpcy5jdXJyZW50X2RhdGU7CiAgICAgIHZhciBrZXkzID0gJ3NlY29uZGFfc2VyYXRhXycgKyB0aGlzLmN1cnJlbnRfZGF0ZTsKICAgICAgdmFyIGNhbmFsaSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7CiAgICAgIHZhciBzdGFzZXJhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5Mik7CgogICAgICBpZiAoY2FuYWxpICE9IG51bGwgJiYgc3Rhc2VyYSAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5jYW5hbGkgPSBKU09OLnBhcnNlKGNhbmFsaSk7CiAgICAgICAgdGhpcy5zdGFzZXJhID0gSlNPTi5wYXJzZShzdGFzZXJhKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdXJsID0gImh0dHBzOi8vZXBnbmV3Lmd1aWRhdHZvZ2dpLml0LzAiOwogICAgICAgIHZhciByZXF1ZXN0T3B0aW9ucyA9IHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzCiAgICAgICAgfTsKICAgICAgICBmZXRjaCh1cmwsIHJlcXVlc3RPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBfdGhpcy5jYW5hbGkgPSBkYXRhWydjYW5hbGknXVswXVsnY2FuYWxpJ107CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KF90aGlzLmNhbmFsaSkpOwogICAgICAgICAgX3RoaXMuc3Rhc2VyYSA9IGRhdGFbJ3N0YXNlcmEnXVswXVsnY2FuYWxpJ107CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXkyLCBKU09OLnN0cmluZ2lmeShfdGhpcy5zdGFzZXJhKSk7CiAgICAgICAgICB2YXIgc2Vjb25kYV9zZXJhdGEgPSBkYXRhWydzZWNvbmRhLXNlcmF0YSddWzBdWydjYW5hbGknXTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleTMsIEpTT04uc3RyaW5naWZ5KHNlY29uZGFfc2VyYXRhKSk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMudG90YWxfZWxlbWVudHMgPSB0aGlzLnN0YXNlcmEubGVuZ3RoOwogICAgICB2YXIgcGFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXJyZW50X3BhZ2UnKTsKCiAgICAgIGlmIChwYWdlID09IG51bGwpIHsKICAgICAgICBwYWdlID0gMTsKICAgICAgfQoKICAgICAgdGhpcy5zdGFzZXJhID0gdGhpcy5zdGFzZXJhLnNwbGljZSgwICsgMTAgKiAocGFnZSAtIDEpLCAxMCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <div class=\"flex flex-col gap-6\" v-if=\"stasera\">\n<!--      <pagination @page_changed=\"load\" :n_elements=\"total_elements\"></pagination>-->\n      <section class=\"channel\" v-for=\"(channel,index) in stasera\" :key=\"channel['canale']['number']\">\n        <div class=\"px-4 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 py-5 lg:py-10\">\n          <div\n              class=\"flex flex-col overflow-hidden bg-gray-200 border rounded shadow-sm lg:flex-row sm:mx-auto\">\n            <div class=\"relative lg:w-1/2\">\n              <!--        <img src=\"https://images.pexels.com/photos/3182812/pexels-photo-3182812.jpeg?auto=compress&amp;cs=tinysrgb&amp;dpr=2&amp;h=750&amp;w=1260\" alt=\"\" class=\"object-cover w-full lg:absolute h-80 lg:h-full\" />-->\n              <img :src=\"channel['prog']['image']\" alt=\"\" class=\"object-cover w-full lg:absolute h-80 lg:h-full\"/>\n              <svg class=\"absolute top-0 right-0 hidden h-full text-gray-200 lg:inline-block\" viewBox=\"0 0 20 104\"\n                   fill=\"currentColor\">\n                <polygon points=\"17.3036738 5.68434189e-14 20 5.68434189e-14 20 104 0.824555778 104\"></polygon>\n              </svg>\n            </div>\n            <div class=\"flex flex-col justify-center p-8 bg-gray-200 lg:p-16 lg:pl-10 lg:w-1/2\">\n              <div>\n                <p class=\"inline-block py-px mb-4 text-xs font-semibold tracking-wider text-teal-900 uppercase rounded-full bg-teal-accent-400\">\n                  <img :src=\"'/img/loghi/' + channel['canale']['logo']\" class=\"h-8 mb-3\" alt=\"\">\n\n                  {{ getStartTime(channel['prog']['inizio']) }} - {{ getStartTime(channel['prog']['fine']) }}\n                </p>\n              </div>\n              <h5 class=\"mb-3 text-3xl font-extrabold leading-none sm:text-4xl\">\n                {{ channel['prog']['title'] }}\n              </h5>\n              <p class=\"mb-5 text-gray-800\">\n                {{ channel['prog']['description'] | truncate(300) }}\n              </p>\n              <div class=\"flex items-center\">\n                <router-link :to=\"'/channel/'+(parseInt(index) + parseInt(10*(page-1)))\"\n                             class=\"inline-flex items-center justify-center h-12 px-6 mr-6 font-medium tracking-wide text-black bg-indigo-200 transition duration-200 rounded shadow-md focus:shadow-outline focus:outline-none\"\n                >\n                  Read more\n                </router-link>\n                <a target=\"_blank\" v-if=\"channel['prog']['trailer']\"\n                   :href=\"'https://www.youtube.com/watch?v=' + channel['prog']['trailer']['id']\" aria-label=\"\"\n                   class=\"inline-flex items-center font-semibold\">\n                  Trailer\n                  <svg class=\"inline-block w-3 ml-2\" fill=\"currentColor\" viewBox=\"0 0 12 12\">\n                    <path\n                        d=\"M9.707,5.293l-5-5A1,1,0,0,0,3.293,1.707L7.586,6,3.293,10.293a1,1,0,1,0,1.414,1.414l5-5A1,1,0,0,0,9.707,5.293Z\"></path>\n                  </svg>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </section>\n      <pagination v-if=\"stasera.length > 3\" @page_changed=\"load\" :n_elements=\"total_elements\"></pagination>\n    </div>\n\n\n  </div>\n</template>\n\n<script>\nimport Pagination from \"@/components/Pagination\";\n\nexport default {\n  name: 'Home',\n  components: { Pagination},\n  data: function () {\n    return {\n      canali: [],\n      stasera: [],\n      current_date: null,\n      total_elements: 1,\n      page: null\n    }\n  },\n  updated() {\n    this.page = localStorage.getItem('current_page');\n    if (this.page == null) {\n      this.page = 1;\n    }\n  },\n  beforeMount() {\n    this.load();\n  },\n  methods: {\n    load() {\n\n      const current = new Date();\n      this.current_date = `${current.getDate()}-${current.getMonth() + 1}-${current.getFullYear()}`;\n\n      const key = 'canali_' + this.current_date;\n      const key2 = 'prima_serata_' + this.current_date;\n      const key3 = 'seconda_serata_' + this.current_date;\n\n      let canali = localStorage.getItem(key);\n      let stasera = localStorage.getItem(key2);\n      if (canali != null && stasera != null) {\n        this.canali = JSON.parse(canali)\n        this.stasera = JSON.parse(stasera)\n      } else {\n        const url = \"https://epgnew.guidatvoggi.it/0\";\n        const requestOptions = {\n          method: 'POST',\n          headers: this.headers\n        };\n        fetch(url, requestOptions)\n            .then(response => response.json())\n            .then(data => {\n              this.canali = data['canali'][0]['canali']\n              localStorage.setItem(key, JSON.stringify(this.canali));\n              this.stasera = data['stasera'][0]['canali']\n              localStorage.setItem(key2, JSON.stringify(this.stasera));\n              let seconda_serata = data['seconda-serata'][0]['canali']\n              localStorage.setItem(key3, JSON.stringify(seconda_serata));\n            });\n      }\n\n      this.total_elements = this.stasera.length;\n      let page = localStorage.getItem('current_page');\n      if (page == null) {\n        page = 1;\n      }\n      this.stasera = this.stasera.splice(0 + (10 * (page - 1)), 10);\n    }\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}